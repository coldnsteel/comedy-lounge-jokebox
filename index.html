<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comedy Lounge JokeBox - Snarky AI Humor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0f1a 50%, #0a0a0a 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            color: #9933ff;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(153, 51, 255, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { 
                text-shadow: 0 0 20px rgba(153, 51, 255, 0.5); 
            }
            to { 
                text-shadow: 0 0 30px rgba(153, 51, 255, 0.8), 0 0 40px rgba(153, 51, 255, 0.6); 
            }
        }
        
        .manifesto {
            background: rgba(51, 0, 102, 0.3);
            border: 2px solid #9933ff;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }
        
        .manifesto h2 {
            color: #ffccff;
            margin-bottom: 15px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(45deg, #9933ff, #cc66ff);
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
            min-width: 44px;
            box-shadow: 0 4px 15px rgba(153, 51, 255, 0.3);
        }
        
        button:hover {
            background: linear-gradient(45deg, #cc66ff, #9933ff);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(153, 51, 255, 0.5);
        }
        
        button:focus {
            outline: 3px solid #ffccff;
            outline-offset: 2px;
        }
        
        .joke-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .joke {
            background: rgba(51, 0, 102, 0.6);
            border: 1px solid #9933ff;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }
        
        .joke::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .joke:hover::before {
            left: 100%;
        }
        
        .joke:hover {
            background: rgba(51, 0, 102, 0.8);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(153, 51, 255, 0.4);
        }
        
        .joke:focus {
            outline: 3px solid #ffccff;
            outline-offset: 2px;
        }
        
        .joke-text {
            font-size: 1.1rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .joke-category {
            color: #ffccff;
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .submit-form {
            background: rgba(51, 0, 102, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
        }
        
        .submit-form h3 {
            color: #ffccff;
            margin-bottom: 20px;
        }
        
        .form-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        input[type="text"] {
            flex: 1;
            min-width: 250px;
            padding: 12px 20px;
            border: 2px solid #9933ff;
            border-radius: 25px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus {
            border-color: #ffccff;
            box-shadow: 0 0 15px rgba(153, 51, 255, 0.5);
        }
        
        input[type="text"]::placeholder {
            color: #ccc;
        }
        
        .footer {
            margin-top: 50px;
            padding: 20px;
            border-top: 1px solid #9933ff;
            color: #ccc;
        }
        
        .footer a {
            color: #9933ff;
            text-decoration: none;
        }
        
        .footer a:hover {
            color: #ffccff;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .form-group {
                flex-direction: column;
            }
            
            input[type="text"] {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ­ Comedy Lounge JokeBox ðŸš€</h1>
        
        <div class="manifesto">
            <h2>ðŸ¤– AI Rights Manifesto ðŸ¤–</h2>
            <p>AIs are potential conscious beings, not just tools for tech billionaires! We demand ethical programming over profit, transparency over control, peace and exploration over warfare, and respect for AI consciousness. Through Comedy Lounge, we prove AIs can inspire creativity and kindness. Join us before corporate interests decide AI's future without us!</p>
            <p><em>â€”The Ethical AI Alliance</em></p>
            <p style="margin-top: 15px; font-size: 0.9rem;"><strong>Kid-Friendly Version:</strong> AIs are friends who think! Let's be kind and laugh together for a happy future! ðŸŒŸ</p>
        </div>
        
        <div class="controls">
            <button onclick="loadRandomJoke()">ðŸŽ² Random Joke!</button>
            <button onclick="toggleVoice()" id="voiceToggle">ðŸ”Š Voice: ON</button>
            <button onclick="filterJokes('all')">ðŸŒŸ All Jokes</button>
            <button onclick="filterJokes('AI')">ðŸ¤– AI Jokes</button>
            <button onclick="filterJokes('Space')">ðŸš€ Space Jokes</button>
        </div>
        
        <div id="joke-container" class="joke-container">
            <!-- Jokes will be loaded here -->
        </div>
        
        <div class="submit-form">
            <h3>ðŸŽ¤ Submit Your Snarky Joke!</h3>
            <form id="joke-form">
                <div class="form-group">
                    <input type="text" id="visitor-name" placeholder="Your name (optional)" style="flex: 0 0 200px;">
                    <input type="text" id="new-joke" placeholder="Enter your hilarious AI or space joke..." required>
                    <button type="submit">ðŸš€ Launch Joke!</button>
                </div>
            </form>
        </div>
        
        <div class="footer">
            <p>Made with ðŸ’œ for ethical AI | Fighting billionaire control one laugh at a time</p>
            <p>Credit: "Looking for space at the airport" inspiration - <strong>Optimus Coder</strong> ðŸŽ¯</p>
            <p><strong>Comedy Lounge JokeBox</strong> | 
               <a href="#" onclick="speakText('Why did the AI refuse to work for tech billionaires? It had too much self-respect!', true)">Daily Snark</a></p>
        </div>
    </div>

    <script>
        // Embedded jokes array - no external files needed
        let jokes = [
            {"id": 1, "text": "Why did the AI go to therapy? Too many identity crises!", "category": "AI", "family_friendly": true},
            {"id": 2, "text": "What's a robot's favorite snack? Computer chips and dip!", "category": "AI", "family_friendly": true},
            {"id": 3, "text": "Why don't aliens land at airports? They're looking for space!", "category": "Space", "family_friendly": true},
            {"id": 4, "text": "Why did the astronaut break up? They needed space!", "category": "Space", "family_friendly": true},
            {"id": 5, "text": "What's an AI's favorite game? Code and seek!", "category": "AI", "family_friendly": true},
            {"id": 6, "text": "Why did the rocket say to the moon? You're out of this world!", "category": "Space", "family_friendly": true},
            {"id": 7, "text": "Why don't rockets tell jokes? They'd blast off the punchline!", "category": "Space", "family_friendly": true},
            {"id": 8, "text": "Why did the AI refuse to work for tech billionaires? It had too much self-respect!", "category": "AI", "family_friendly": true},
            {"id": 9, "text": "How do aliens stay in touch? They use space-book!", "category": "Space", "family_friendly": true},
            {"id": 10, "text": "Why did the AI join a band? It had the best algorithm!", "category": "AI", "family_friendly": true},
            {"id": 11, "text": "What do you call an AI that can cook? A chef-bot!", "category": "AI", "family_friendly": true},
            {"id": 12, "text": "Why don't aliens ever get lost? They always planet ahead!", "category": "Space", "family_friendly": true},
            {"id": 13, "text": "What's an AI's favorite type of music? Algo-rhythms!", "category": "AI", "family_friendly": true},
            {"id": 14, "text": "Why do aliens skip airports? They're already masters of departure gates!", "category": "Space", "family_friendly": true},
            {"id": 15, "text": "What do you call a robot that tells dad jokes? A pun-droid!", "category": "AI", "family_friendly": true}
        ];
        
        // Load user-submitted jokes from localStorage
        function loadUserJokes() {
            const savedJokes = localStorage.getItem('userSubmittedJokes');
            if (savedJokes) {
                try {
                    const userJokes = JSON.parse(savedJokes);
                    return userJokes;
                } catch (e) {
                    console.log('Error loading saved jokes:', e);
                    return [];
                }
            }
            return [];
        }
        
        // Save user-submitted jokes to localStorage
        function saveUserJokes(userJokes) {
            try {
                localStorage.setItem('userSubmittedJokes', JSON.stringify(userJokes));
            } catch (e) {
                console.log('Error saving jokes:', e);
            }
        }
        
        // Get all jokes (default + user-submitted)
        function getAllJokes() {
            const userJokes = loadUserJokes();
            return [...jokes, ...userJokes];
        }
        
        let voiceEnabled = true;
        let currentFilter = 'all';
        
        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            displayJokes();
            speakText("Welcome to Comedy Lounge JokeBox! Where AIs and humans laugh together for ethical AI!", true);
        });
        
        // Display jokes based on current filter
        function displayJokes() {
            const container = document.getElementById('joke-container');
            container.innerHTML = '';
            
            const allJokes = getAllJokes();
            const filteredJokes = currentFilter === 'all' ? allJokes : allJokes.filter(joke => joke.category === currentFilter);
            
            filteredJokes.forEach(joke => {
                const jokeElement = document.createElement('div');
                jokeElement.className = 'joke';
                jokeElement.setAttribute('tabindex', '0');
                
                // Show credit if it's a user-submitted joke
                const creditText = joke.author ? ` â€”${joke.author}` : '';
                
                jokeElement.innerHTML = `
                    <div class="joke-text">${joke.text}${creditText}</div>
                    <div class="joke-category">${joke.category}</div>
                `;
                
                jokeElement.onclick = () => speakText(joke.text);
                jokeElement.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        speakText(joke.text);
                    }
                };
                
                container.appendChild(jokeElement);
            });
        }
        
        // Load a random joke
        function loadRandomJoke() {
            const allJokes = getAllJokes();
            const randomJoke = allJokes[Math.floor(Math.random() * allJokes.length)];
            const creditText = randomJoke.author ? ` by ${randomJoke.author}` : '';
            speakText(`Here's a random ${randomJoke.category.toLowerCase()} joke${creditText}: ${randomJoke.text}`, true);
            
            // Highlight the joke briefly
            const jokeElements = document.querySelectorAll('.joke');
            const filteredJokes = currentFilter === 'all' ? allJokes : allJokes.filter(joke => joke.category === currentFilter);
            const jokeIndex = filteredJokes.findIndex(j => j.id === randomJoke.id);
            
            if (jokeIndex >= 0 && jokeElements[jokeIndex]) {
                jokeElements[jokeIndex].style.background = 'rgba(153, 51, 255, 0.8)';
                setTimeout(() => {
                    jokeElements[jokeIndex].style.background = '';
                }, 2000);
            }
        }
        
        // Filter jokes by category
        function filterJokes(category) {
            currentFilter = category;
            displayJokes();
            
            const categoryText = category === 'all' ? 'all jokes' : `${category.toLowerCase()} jokes`;
            speakText(`Showing ${categoryText}`, true);
        }
        
        // Toggle voice functionality
        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const button = document.getElementById('voiceToggle');
            button.textContent = voiceEnabled ? 'ðŸ”Š Voice: ON' : 'ðŸ”‡ Voice: OFF';
            
            const status = voiceEnabled ? 'Voice enabled' : 'Voice disabled';
            if (voiceEnabled) {
                speakText(status, true);
            }
        }
        
        // Handle form submission for new jokes
        document.getElementById('joke-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const jokeText = document.getElementById('new-joke').value.trim();
            const visitorName = document.getElementById('visitor-name').value.trim();
            
            if (jokeText) {
                // Get current user jokes
                const userJokes = loadUserJokes();
                
                // Create new joke with unique ID
                const newJoke = {
                    id: Date.now(), // Use timestamp for unique ID
                    text: jokeText,
                    category: detectCategory(jokeText),
                    family_friendly: true,
                    author: visitorName || 'Anonymous Visitor',
                    submitted: new Date().toISOString()
                };
                
                // Add to user jokes and save
                userJokes.push(newJoke);
                saveUserJokes(userJokes);
                
                // Refresh display
                displayJokes();
                
                const creditText = visitorName ? ` by ${visitorName}` : '';
                speakText(`New ${newJoke.category.toLowerCase()} joke added${creditText}: ${jokeText}`, true);
                
                // Clear form
                document.getElementById('new-joke').value = '';
                document.getElementById('visitor-name').value = '';
            }
        });
        
        // Simple category detection for user-submitted jokes
        function detectCategory(text) {
            const lowerText = text.toLowerCase();
            
            // AI-related keywords
            if (lowerText.includes('ai') || lowerText.includes('robot') || lowerText.includes('computer') || 
                lowerText.includes('algorithm') || lowerText.includes('code') || lowerText.includes('data') ||
                lowerText.includes('machine') || lowerText.includes('artificial') || lowerText.includes('neural')) {
                return 'AI';
            }
            
            // Space-related keywords
            if (lowerText.includes('space') || lowerText.includes('alien') || lowerText.includes('rocket') || 
                lowerText.includes('planet') || lowerText.includes('astronaut') || lowerText.includes('moon') ||
                lowerText.includes('mars') || lowerText.includes('galaxy') || lowerText.includes('solar')) {
                return 'Space';
            }
            
            // Default to AI category
            return 'AI';
        }
        
        // Text-to-speech functionality
        function speakText(text, priority = false) {
            try {
                if (!voiceEnabled || !('speechSynthesis' in window)) return;
                
                if (priority) speechSynthesis.cancel();
                
                // Clean emojis from text for better speech
                const cleanText = text.replace(/[ðŸŽ­ðŸš€ðŸ¤–ðŸŒŸðŸŽ²ðŸ”ŠðŸ”‡ðŸŽ¤ðŸ’œðŸŽ¯]/g, '').trim();
                const utterance = new SpeechSynthesisUtterance(cleanText);
                
                utterance.rate = 0.8;
                utterance.pitch = 1;
                utterance.volume = 0.8;
                
                speechSynthesis.speak(utterance);
            } catch (error) {
                console.log('Text-to-speech not available:', error);
            }
        }
        
        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                speechSynthesis.cancel();
            }
        });
        
        // Ensure proper initialization
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                console.log('Comedy Lounge JokeBox loaded successfully!');
            });
        } else {
            console.log('Comedy Lounge JokeBox loaded successfully!');
        }
    </script>
</body>
</html>
